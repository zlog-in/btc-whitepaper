<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>比特币地址 · 比特币白皮书</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>₿</text></svg>">
    <link rel="stylesheet" href="../css/style.css?v=20260202t">
</head>
<body>
    <nav class="nav">
        <div class="nav-content">
            <a href="../index.html" class="logo">
                <span class="logo-title" data-i18n="nav.logo">₿ Bitcoin Whitepaper</span>
                <span class="logo-subtitle" data-i18n="nav.subtitle">交互式学习指南</span>
            </a>
            <a href="../index.html" class="nav-home" data-i18n="nav.home">🏠 首页</a>
            <div class="nav-groups">
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">🔐</span><span data-i18n="nav.group.crypto">密码学</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="hash.html" data-i18n="nav.hash">哈希函数</a>
                        <a href="sha256.html" class="sub-link" data-i18n="nav.sha256">└ SHA-256 过程</a>
                        <a href="merkle.html" class="sub-link" data-i18n="nav.merkle">└ Merkle Tree</a>
                        <a href="signature.html" data-i18n="nav.signature">数字签名</a>
                        <a href="ecdsa.html" class="sub-link" data-i18n="nav.ecdsa">└ ECDSA 过程</a>
                    </div>
                </div>
                <div class="nav-group expanded has-active">
                    <div class="nav-group-title">
                        <span><span class="group-icon">📍</span><span data-i18n="nav.group.address">地址</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="address.html" class="active" data-i18n="nav.address">比特币地址</a>
                        <a href="multisig.html" class="sub-link" data-i18n="nav.multisig">└ 多重签名</a>
                        <a href="timelock.html" class="sub-link" data-i18n="nav.timelock">└ 时间锁</a>
                        <a href="htlc.html" class="sub-link" data-i18n="nav.htlc">└ 哈希时间锁</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">💰</span><span data-i18n="nav.group.tx">交易</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="cash.html" data-i18n="nav.cash">现金模型</a>
                        <a href="utxo.html" class="sub-link" data-i18n="nav.utxo">└ UTXO 模型</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">📦</span><span data-i18n="nav.group.block">区块</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="block.html" data-i18n="nav.block">区块结构</a>
                        <a href="mining.html" class="sub-link" data-i18n="nav.mining">└ 挖矿原理</a>
                        <a href="chain.html" data-i18n="nav.chain">区块链</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">🌐</span><span data-i18n="nav.group.consensus">共识</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="pow.html" data-i18n="nav.pow">工作量证明</a>
                        <a href="p2p.html" data-i18n="nav.p2p">共识传播</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <section class="section">
            <div class="container">
                <div class="page-header">
                    <span class="page-icon">📫</span>
                    <div>
                        <h1 data-i18n="addr.title">比特币地址</h1>
                        <p class="section-desc" data-i18n="addr.desc">比特币地址是从公钥派生的简短标识符，用于接收比特币。地址经过多次哈希和编码处理，既安全又便于使用。</p>
                    </div>
                </div>

                <div class="demo-box">
                    <h3 data-i18n="addr.generate.title">🔑 地址生成流程</h3>
                    <p class="demo-desc" data-i18n="addr.generate.desc">选择地址类型，点击按钮观察完整的地址生成过程。</p>

                    <div class="address-type-selector">
                        <label data-i18n="addr.type.label">选择地址类型：</label>
                        <div class="type-buttons">
                            <button class="type-btn active" data-type="p2pkh">
                                <span class="type-prefix">1...</span>
                                <span class="type-name">P2PKH</span>
                                <span class="type-tag" data-i18n="addr.type.legacy">传统</span>
                            </button>
                            <button class="type-btn" data-type="p2sh">
                                <span class="type-prefix">3...</span>
                                <span class="type-name">P2SH</span>
                                <span class="type-tag" data-i18n="addr.type.script">脚本</span>
                            </button>
                            <button class="type-btn" data-type="p2wpkh">
                                <span class="type-prefix">bc1q...</span>
                                <span class="type-name">P2WPKH</span>
                                <span class="type-tag" data-i18n="addr.type.segwit">隔离见证</span>
                            </button>
                            <button class="type-btn" data-type="p2tr">
                                <span class="type-prefix">bc1p...</span>
                                <span class="type-name">P2TR</span>
                                <span class="type-tag" data-i18n="addr.type.taproot">Taproot</span>
                            </button>
                        </div>
                    </div>

                    <button id="generate-address" class="btn primary" data-i18n="addr.generate.btn">🎲 生成新地址</button>

                    <div class="address-process" id="address-process" style="display: none;">
                        <div class="address-steps-vertical">
                            <div class="address-step-row" id="addr-step-1">
                                <div class="step-header">
                                    <span class="step-icon">🔐</span>
                                    <span class="step-label" data-i18n="addr.step.privkey">私钥 (256 bit)</span>
                                </div>
                                <div class="step-value-full" id="addr-privkey-value">-</div>
                            </div>
                            <div class="address-arrow-down" id="addr-arrow-1">↓</div>
                            <div class="address-step-row" id="addr-step-2">
                                <div class="step-header">
                                    <span class="step-icon">🔓</span>
                                    <span class="step-label" data-i18n="addr.step.pubkey">公钥 (512 bit)</span>
                                </div>
                                <div class="step-value-full" id="addr-pubkey-value">-</div>
                            </div>
                            <div class="address-arrow-down" id="addr-arrow-2">↓</div>
                            <div class="address-step-row" id="addr-step-3">
                                <div class="step-header">
                                    <span class="step-icon">🔢</span>
                                    <span class="step-label" data-i18n="addr.step.sha256">SHA-256 (256 bit)</span>
                                </div>
                                <div class="step-value-full hash-value" id="addr-sha256-value">-</div>
                            </div>
                            <div class="address-arrow-down" id="addr-arrow-3">↓</div>
                            <div class="address-step-row" id="addr-step-4">
                                <div class="step-header">
                                    <span class="step-icon">🔒</span>
                                    <span class="step-label" data-i18n="addr.step.ripemd">RIPEMD-160 (160 bit)</span>
                                </div>
                                <div class="step-value-full hash-value" id="addr-ripemd-value">-</div>
                            </div>
                            <div class="address-arrow-down" id="addr-arrow-4">↓</div>
                            <div class="address-step-row" id="addr-step-5">
                                <div class="step-header">
                                    <span class="step-icon">📫</span>
                                    <span class="step-label" id="addr-encoding-label">Base58Check 编码</span>
                                </div>
                                <div class="step-value-full address-value" id="addr-final-value">-</div>
                            </div>
                        </div>
                    </div>

                    <div class="address-output" id="address-output" style="display: none;">
                        <label data-i18n="addr.result.label">📬 生成的地址：</label>
                        <div class="address-display" id="generated-address">-</div>
                        <div class="address-type-info" id="address-type-info">
                            <span class="type-badge" id="type-badge">P2PKH</span>
                            <span class="type-desc" id="type-desc" data-i18n="addr.result.note">注意：这是以 "1" 开头的 P2PKH (Pay-to-Public-Key-Hash) 地址</span>
                        </div>
                    </div>
                </div>

                <div class="demo-box">
                    <h3 data-i18n="addr.validate.title">✅ 地址验证</h3>
                    <p class="demo-desc" data-i18n="addr.validate.desc">输入一个比特币地址，验证其格式是否正确。</p>

                    <div class="input-group">
                        <label data-i18n="addr.validate.input">输入比特币地址：</label>
                        <input type="text" id="validate-input" placeholder="1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2">
                    </div>

                    <button id="validate-btn" class="btn" data-i18n="addr.validate.btn">🔍 验证地址</button>

                    <div class="validate-result" id="validate-result"></div>

                    <div class="address-breakdown" id="address-breakdown" style="display: none;">
                        <h4 data-i18n="addr.breakdown.title">📋 地址解析</h4>
                        <div class="breakdown-grid">
                            <div class="breakdown-item">
                                <span class="breakdown-label" data-i18n="addr.breakdown.version">版本字节</span>
                                <span class="breakdown-value" id="breakdown-version">-</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label" data-i18n="addr.breakdown.hash">公钥哈希</span>
                                <span class="breakdown-value" id="breakdown-hash">-</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label" data-i18n="addr.breakdown.checksum">校验和</span>
                                <span class="breakdown-value" id="breakdown-checksum">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card info">
                    <h4 data-i18n="addr.why.title">💡 为什么不直接使用公钥？</h4>
                    <ul>
                        <li><strong data-i18n="addr.why.1">更短</strong> — <span data-i18n="addr.why.1.desc">公钥有 65 字节，地址只有 25 字节（Base58 编码后约 34 字符）</span></li>
                        <li><strong data-i18n="addr.why.2">有校验</strong> — <span data-i18n="addr.why.2.desc">Base58Check 包含 4 字节校验和，可以检测输入错误</span></li>
                        <li><strong data-i18n="addr.why.3">量子安全</strong> — <span data-i18n="addr.why.3.desc">地址隐藏了公钥，直到花费时才暴露</span></li>
                    </ul>
                </div>

                <div class="card highlight">
                    <h4 data-i18n="addr.formats.title">📋 比特币地址类型详解</h4>
                    <div class="address-types-grid">
                        <div class="address-type-card">
                            <div class="type-header">
                                <span class="type-icon">1️⃣</span>
                                <div>
                                    <h5>P2PKH</h5>
                                    <span class="type-full">Pay-to-Public-Key-Hash</span>
                                </div>
                            </div>
                            <div class="type-example">1BvBMSEYstWetqTFn5Au4m4GFg7...</div>
                            <p class="type-description" data-i18n="addr.type.p2pkh.desc">最早的地址格式（2009年），以 "1" 开头。使用 Base58Check 编码，包含版本字节 0x00。</p>
                            <div class="type-meta">
                                <span class="meta-item"><strong data-i18n="addr.type.encoding">编码</strong>: Base58Check</span>
                                <span class="meta-item"><strong data-i18n="addr.type.length">长度</strong>: 25-34 chars</span>
                            </div>
                        </div>

                        <div class="address-type-card">
                            <div class="type-header">
                                <span class="type-icon">3️⃣</span>
                                <div>
                                    <h5>P2SH</h5>
                                    <span class="type-full">Pay-to-Script-Hash</span>
                                </div>
                            </div>
                            <div class="type-example">3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy</div>
                            <p class="type-description" data-i18n="addr.type.p2sh.desc">以 "3" 开头（2012年 BIP16）。支持多重签名和复杂脚本，也用于包装 SegWit (P2SH-P2WPKH)。</p>
                            <div class="type-meta">
                                <span class="meta-item"><strong data-i18n="addr.type.encoding">编码</strong>: Base58Check</span>
                                <span class="meta-item"><strong data-i18n="addr.type.version">版本</strong>: 0x05</span>
                            </div>
                        </div>

                        <div class="address-type-card">
                            <div class="type-header">
                                <span class="type-icon">⚡</span>
                                <div>
                                    <h5>P2WPKH</h5>
                                    <span class="type-full">Pay-to-Witness-Public-Key-Hash</span>
                                </div>
                            </div>
                            <div class="type-example">bc1qar0srrr7xfkvy5l643lydnw9re...</div>
                            <p class="type-description" data-i18n="addr.type.p2wpkh.desc">原生隔离见证地址（2017年 BIP141），以 "bc1q" 开头。使用 Bech32 编码，交易手续费更低。</p>
                            <div class="type-meta">
                                <span class="meta-item"><strong data-i18n="addr.type.encoding">编码</strong>: Bech32</span>
                                <span class="meta-item"><strong data-i18n="addr.type.witness">见证版本</strong>: v0</span>
                            </div>
                        </div>

                        <div class="address-type-card">
                            <div class="type-header">
                                <span class="type-icon">🌱</span>
                                <div>
                                    <h5>P2TR</h5>
                                    <span class="type-full">Pay-to-Taproot</span>
                                </div>
                            </div>
                            <div class="type-example">bc1p5cyxnuxmeuwuvkwfem96lqzszd...</div>
                            <p class="type-description" data-i18n="addr.type.p2tr.desc">Taproot 地址（2021年 BIP341），以 "bc1p" 开头。使用 Bech32m 编码，支持 Schnorr 签名，隐私性更好。</p>
                            <div class="type-meta">
                                <span class="meta-item"><strong data-i18n="addr.type.encoding">编码</strong>: Bech32m</span>
                                <span class="meta-item"><strong data-i18n="addr.type.witness">见证版本</strong>: v1</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="demo-box">
                    <h3 data-i18n="addr.p2sh.scripts.title">📜 P2SH 常见脚本类型</h3>
                    <p class="demo-desc" data-i18n="addr.p2sh.scripts.desc">P2SH 允许将复杂的花费条件编码为地址，以下是几种常见的脚本类型。</p>

                    <div class="script-types-container">
                        <!-- 多重签名 -->
                        <div class="script-type-card" id="multisig-card">
                            <div class="script-header">
                                <span class="script-icon">👥</span>
                                <div>
                                    <h4 data-i18n="addr.p2sh.multisig.title">多重签名 (Multisig)</h4>
                                    <span class="script-tag" data-i18n="addr.p2sh.multisig.tag">M-of-N</span>
                                </div>
                            </div>
                            <p class="script-desc" data-i18n="addr.p2sh.multisig.desc">需要 M 个签名中的 N 个才能花费，常用于企业资金管理、托管服务等场景。</p>

                            <!-- 真实示例 -->
                            <div class="script-example">
                                <div class="example-header">
                                    <span class="example-badge" data-i18n="addr.p2sh.example">📋 2-of-3 实例</span>
                                </div>
                                <div class="example-steps">
                                    <div class="example-step">
                                        <div class="example-label">① <span data-i18n="addr.p2sh.step.keys">公钥</span> (33 bytes × 3)</div>
                                        <div class="example-value">
                                            <code class="pubkey">02<span class="highlight-a">1e</span>8f5c7...<span class="key-tag">A</span></code>
                                            <code class="pubkey">03<span class="highlight-b">7d</span>2a9b1...<span class="key-tag">B</span></code>
                                            <code class="pubkey">02<span class="highlight-c">9c</span>f4d82...<span class="key-tag">C</span></code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">② <span data-i18n="addr.p2sh.step.script">赎回脚本</span></div>
                                        <div class="example-value">
                                            <code class="script-hex"><span class="op">52</span><span class="comment">← OP_2</span> <span class="data">21</span><span class="comment">← PUSH33</span> 021e8f... <span class="data">21</span> 037d2a... <span class="data">21</span> 029cf4... <span class="op">53</span><span class="comment">← OP_3</span> <span class="op">ae</span><span class="comment">← OP_CHECKMULTISIG</span></code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">③ HASH160(Script)</div>
                                        <div class="example-value">
                                            <code class="hash" id="multisig-example-hash">-</code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">④ <span data-i18n="addr.p2sh.step.address">P2SH 地址</span></div>
                                        <div class="example-value">
                                            <code class="address" id="multisig-example-addr">-</code>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn small" id="run-multisig-example" data-i18n="addr.p2sh.run">▶ 运行实例</button>
                            </div>

                            <div class="script-use-cases">
                                <span class="use-case-label" data-i18n="addr.p2sh.usecases">应用场景：</span>
                                <span class="use-case" data-i18n="addr.p2sh.multisig.use1">企业财务</span>
                                <span class="use-case" data-i18n="addr.p2sh.multisig.use2">交易所托管</span>
                                <span class="use-case" data-i18n="addr.p2sh.multisig.use3">家庭基金</span>
                            </div>
                        </div>

                        <!-- 时间锁 CLTV -->
                        <div class="script-type-card" id="timelock-card">
                            <div class="script-header">
                                <span class="script-icon">⏰</span>
                                <div>
                                    <h4 data-i18n="addr.p2sh.timelock.title">时间锁 (CLTV)</h4>
                                    <span class="script-tag">CheckLockTimeVerify</span>
                                </div>
                            </div>
                            <p class="script-desc" data-i18n="addr.p2sh.timelock.desc">资金在指定时间或区块高度之前无法被花费，用于定期释放、遗嘱执行等。</p>

                            <!-- 真实示例 -->
                            <div class="script-example">
                                <div class="example-header">
                                    <span class="example-badge" data-i18n="addr.p2sh.timelock.example.title">📋 锁定至区块 #850000</span>
                                </div>
                                <div class="example-steps">
                                    <div class="example-step">
                                        <div class="example-label">① <span data-i18n="addr.p2sh.step.keys">公钥</span></div>
                                        <div class="example-value">
                                            <code class="pubkey">02<span class="highlight-a">3a</span>b8d7e5f6c9...</code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">② <span data-i18n="addr.p2sh.step.script">赎回脚本</span></div>
                                        <div class="example-value">
                                            <code class="script-hex"><span class="data">03</span><span class="comment">← PUSH3</span> <span class="highlight-num">50f70c</span><span class="comment">← 850000 (LE)</span> <span class="op">b1</span><span class="comment">← OP_CLTV</span> <span class="op">75</span><span class="comment">← OP_DROP</span> <span class="data">21</span> 023ab8... <span class="op">ac</span><span class="comment">← OP_CHECKSIG</span></code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">③ HASH160(Script)</div>
                                        <div class="example-value">
                                            <code class="hash" id="timelock-example-hash">-</code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">④ <span data-i18n="addr.p2sh.step.address">P2SH 地址</span></div>
                                        <div class="example-value">
                                            <code class="address" id="timelock-example-addr">-</code>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn small" id="run-timelock-example" data-i18n="addr.p2sh.run">▶ 运行实例</button>
                            </div>

                            <div class="script-use-cases">
                                <span class="use-case-label" data-i18n="addr.p2sh.usecases">应用场景：</span>
                                <span class="use-case" data-i18n="addr.p2sh.timelock.use1">定投锁仓</span>
                                <span class="use-case" data-i18n="addr.p2sh.timelock.use2">遗产继承</span>
                                <span class="use-case" data-i18n="addr.p2sh.timelock.use3">员工期权</span>
                            </div>
                        </div>

                        <!-- 哈希时间锁 HTLC -->
                        <div class="script-type-card" id="htlc-card">
                            <div class="script-header">
                                <span class="script-icon">🔐</span>
                                <div>
                                    <h4 data-i18n="addr.p2sh.htlc.title">哈希时间锁 (HTLC)</h4>
                                    <span class="script-tag">Hash Time-Locked Contract</span>
                                </div>
                            </div>
                            <p class="script-desc" data-i18n="addr.p2sh.htlc.desc">结合哈希锁和时间锁，提供原像即可花费，或超时后退款。是闪电网络的核心机制。</p>

                            <!-- 真实示例 -->
                            <div class="script-example">
                                <div class="example-header">
                                    <span class="example-badge" data-i18n="addr.p2sh.htlc.example.title">📋 HTLC 实例 (超时: 144块)</span>
                                </div>

                                <div class="htlc-paths-diagram">
                                    <div class="htlc-path-box success">
                                        <div class="path-title">✅ <span data-i18n="addr.p2sh.htlc.path1">成功路径</span></div>
                                        <div class="path-desc" data-i18n="addr.p2sh.htlc.path1.cond">提供原像 + Bob签名</div>
                                    </div>
                                    <div class="htlc-or-box">OR</div>
                                    <div class="htlc-path-box refund">
                                        <div class="path-title">🔙 <span data-i18n="addr.p2sh.htlc.path2">退款路径</span></div>
                                        <div class="path-desc" data-i18n="addr.p2sh.htlc.path2.cond">超时 + Alice签名</div>
                                    </div>
                                </div>

                                <div class="example-steps">
                                    <div class="example-step">
                                        <div class="example-label">① <span data-i18n="addr.p2sh.htlc.parties">双方公钥 & 哈希锁</span></div>
                                        <div class="example-value htlc-keys">
                                            <code class="pubkey"><span class="key-tag">Alice</span> 02<span class="highlight-a">5c</span>8e3d...</code>
                                            <code class="pubkey"><span class="key-tag">Bob</span> 03<span class="highlight-b">a1</span>f7b2...</code>
                                            <code class="hashlock">🔒 H = HASH160(<span class="highlight-secret">secret</span>) = <span id="htlc-example-hashlock">-</span></code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">② <span data-i18n="addr.p2sh.step.script">赎回脚本</span></div>
                                        <div class="example-value">
                                            <code class="script-hex htlc-script"><span class="op">63</span><span class="comment">← OP_IF</span> <span class="op">a9</span><span class="comment">← OP_HASH160</span> <span class="data">14</span> <span class="highlight-hash">&lt;H&gt;</span> <span class="op">88</span><span class="comment">← OP_EQUALVERIFY</span> <span class="data">21</span> &lt;PubBob&gt; <span class="op">67</span><span class="comment">← OP_ELSE</span> <span class="data">02</span><span class="highlight-num">9000</span><span class="comment">← 144</span> <span class="op">b1</span><span class="comment">← OP_CLTV</span> <span class="op">75</span><span class="comment">← OP_DROP</span> <span class="data">21</span> &lt;PubAlice&gt; <span class="op">68</span><span class="comment">← OP_ENDIF</span> <span class="op">ac</span><span class="comment">← OP_CHECKSIG</span></code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">③ HASH160(Script)</div>
                                        <div class="example-value">
                                            <code class="hash" id="htlc-example-hash">-</code>
                                        </div>
                                    </div>
                                    <div class="example-step">
                                        <div class="example-label">④ <span data-i18n="addr.p2sh.step.address">P2SH 地址</span></div>
                                        <div class="example-value">
                                            <code class="address" id="htlc-example-addr">-</code>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn small" id="run-htlc-example" data-i18n="addr.p2sh.run">▶ 运行实例</button>
                            </div>

                            <div class="script-use-cases">
                                <span class="use-case-label" data-i18n="addr.p2sh.usecases">应用场景：</span>
                                <span class="use-case" data-i18n="addr.p2sh.htlc.use1">闪电网络</span>
                                <span class="use-case" data-i18n="addr.p2sh.htlc.use2">原子交换</span>
                                <span class="use-case" data-i18n="addr.p2sh.htlc.use3">跨链桥</span>
                            </div>
                        </div>
                    </div>

                    <div class="p2sh-generation-flow">
                        <h4 data-i18n="addr.p2sh.flow.title">🔄 P2SH 地址生成原理</h4>
                        <div class="flow-steps">
                            <div class="flow-step">
                                <span class="flow-num">1</span>
                                <div class="flow-content">
                                    <strong data-i18n="addr.p2sh.flow.step1">编写赎回脚本</strong>
                                    <p data-i18n="addr.p2sh.flow.step1.desc">定义花费条件（多签/时间锁等）</p>
                                </div>
                            </div>
                            <div class="flow-arrow">→</div>
                            <div class="flow-step">
                                <span class="flow-num">2</span>
                                <div class="flow-content">
                                    <strong data-i18n="addr.p2sh.flow.step2">计算脚本哈希</strong>
                                    <p data-i18n="addr.p2sh.flow.step2.desc">HASH160(RedeemScript)</p>
                                </div>
                            </div>
                            <div class="flow-arrow">→</div>
                            <div class="flow-step">
                                <span class="flow-num">3</span>
                                <div class="flow-content">
                                    <strong data-i18n="addr.p2sh.flow.step3">添加版本前缀</strong>
                                    <p data-i18n="addr.p2sh.flow.step3.desc">0x05 + ScriptHash</p>
                                </div>
                            </div>
                            <div class="flow-arrow">→</div>
                            <div class="flow-step">
                                <span class="flow-num">4</span>
                                <div class="flow-content">
                                    <strong data-i18n="addr.p2sh.flow.step4">Base58Check 编码</strong>
                                    <p data-i18n="addr.p2sh.flow.step4.desc">生成以 "3" 开头的地址</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card info" style="margin-top: 1.5rem;">
                        <h4 data-i18n="addr.p2sh.benefit.title">💡 P2SH 的优势</h4>
                        <ul>
                            <li><strong data-i18n="addr.p2sh.benefit.1">发送方简化</strong> — <span data-i18n="addr.p2sh.benefit.1.desc">发送方只需向普通地址转账，无需了解复杂的脚本逻辑</span></li>
                            <li><strong data-i18n="addr.p2sh.benefit.2">手续费转移</strong> — <span data-i18n="addr.p2sh.benefit.2.desc">复杂脚本的存储费用由花费者而非发送者承担</span></li>
                            <li><strong data-i18n="addr.p2sh.benefit.3">隐私保护</strong> — <span data-i18n="addr.p2sh.benefit.3.desc">花费条件在花费前保持隐藏，只暴露脚本哈希</span></li>
                        </ul>
                    </div>
                </div>

                <div class="card info">
                    <h4 data-i18n="addr.evolution.title">📈 地址格式演进</h4>
                    <div class="evolution-timeline">
                        <div class="timeline-item">
                            <span class="timeline-year">2009</span>
                            <span class="timeline-event" data-i18n="addr.evolution.2009">P2PKH - 比特币创世地址格式</span>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-year">2012</span>
                            <span class="timeline-event" data-i18n="addr.evolution.2012">P2SH - 支持复杂脚本</span>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-year">2017</span>
                            <span class="timeline-event" data-i18n="addr.evolution.2017">P2WPKH/P2WSH - 隔离见证激活</span>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-year">2021</span>
                            <span class="timeline-event" data-i18n="addr.evolution.2021">P2TR - Taproot 升级</span>
                        </div>
                    </div>
                </div>

                <div class="page-nav">
                    <a href="signature.html" class="btn secondary" data-i18n="addr.nav.prev">← 数字签名</a>
                    <a href="multisig.html" class="btn primary" data-i18n="addr.nav.next">多重签名 →</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p><span data-i18n="footer.text">基于 Satoshi Nakamoto 的</span><a href="https://bitcoin.org/bitcoin.pdf" target="_blank" data-i18n="footer.link">比特币白皮书</a><span data-i18n="footer.suffix">制作</span></p>
    </footer>

    <script src="../js/i18n.js?v=20260202j"></script>
    <script src="../js/address.js?v=20260202j"></script>
</body>
</html>
