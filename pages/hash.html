<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>哈希函数 · 比特币白皮书</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>₿</text></svg>">
    <link rel="stylesheet" href="../css/style.css?v=20260202d">
</head>
<body>
    <nav class="nav">
        <div class="nav-content">
            <a href="../index.html" class="logo" data-i18n="nav.logo">₿ Bitcoin Whitepaper</a>
            <a href="../index.html" class="nav-home" data-i18n="nav.home">🏠 首页</a>
            <div class="nav-groups">
                <div class="nav-group expanded has-active">
                    <div class="nav-group-title">
                        <span><span class="group-icon">🔐</span><span data-i18n="nav.group.crypto">密码学</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="hash.html" class="active" data-i18n="nav.hash">哈希函数</a>
                        <a href="sha256.html" class="sub-link" data-i18n="nav.sha256">└ SHA-256 过程</a>
                        <a href="signature.html" data-i18n="nav.signature">数字签名</a>
                        <a href="ecdsa.html" class="sub-link" data-i18n="nav.ecdsa">└ ECDSA 过程</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">📍</span><span data-i18n="nav.group.address">地址</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="address.html" data-i18n="nav.address">比特币地址</a>
                        <a href="multisig.html" class="sub-link" data-i18n="nav.multisig">└ 多重签名</a>
                        <a href="timelock.html" class="sub-link" data-i18n="nav.timelock">└ 时间锁</a>
                        <a href="htlc.html" class="sub-link" data-i18n="nav.htlc">└ 哈希时间锁</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">💰</span><span data-i18n="nav.group.tx">交易</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="utxo.html" data-i18n="nav.utxo">UTXO 模型</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">📦</span><span data-i18n="nav.group.block">区块</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="block.html" data-i18n="nav.block">区块结构</a>
                        <a href="chain.html" data-i18n="nav.chain">区块链</a>
                    </div>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">
                        <span><span class="group-icon">🌐</span><span data-i18n="nav.group.consensus">共识</span></span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="nav-group-links">
                        <a href="pow.html" data-i18n="nav.pow">工作量证明</a>
                        <a href="p2p.html" data-i18n="nav.p2p">P2P 网络</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <section class="section">
            <div class="container">
                <div class="page-header">
                    <span class="page-icon">🔐</span>
                    <div>
                        <h1 data-i18n="hash.title">密码学哈希函数</h1>
                        <p class="section-desc" data-i18n="hash.desc">SHA-256 将任意长度的输入转换为固定256位的输出。输入的微小变化会导致输出的巨大改变。</p>
                    </div>
                </div>

                <div class="demo-box">
                    <div class="input-group">
                        <label data-i18n="hash.input.label">输入任意内容：</label>
                        <textarea id="hash-input" placeholder="在这里输入文字...">Hello, Bitcoin!</textarea>
                        <button id="hash-calc-btn" class="btn primary" style="margin-top: 1rem;" data-i18n="hash.calc.btn">🔢 计算哈希</button>
                    </div>
                    <div class="hash-output">
                        <label data-i18n="hash.binary.label">SHA-256 哈希值（二进制 256位）：</label>
                        <div class="hash-display binary" id="hash-binary" data-i18n="hash.click.calc">点击按钮计算...</div>
                    </div>
                    <div class="hash-output">
                        <label data-i18n="hash.hex.label">SHA-256 哈希值（十六进制 64字符）：</label>
                        <div class="hash-display" id="hash-output" data-i18n="hash.click.calc">点击按钮计算...</div>
                    </div>
                    <div class="hash-visual" id="hash-visual"></div>

                    <!-- 链接到 SHA-256 详细页面 -->
                    <div class="sha256-link-box">
                        <a href="sha256.html" class="sha256-link">
                            <span class="link-icon">🔬</span>
                            <span class="link-content">
                                <span class="link-title" data-i18n="hash.sha256.link.title">深入了解 SHA-256 计算过程</span>
                                <span class="link-desc" data-i18n="hash.sha256.link.desc">查看消息填充、消息调度、64轮压缩函数的完整可视化演示</span>
                            </span>
                            <span class="link-arrow">→</span>
                        </a>
                    </div>
                </div>

                <!-- 哈希函数特性 - 交互式演示 -->
                <div class="hash-features-section">
                    <h3 data-i18n="hash.features.title">🎯 哈希函数特性</h3>

                    <!-- 特性1: 确定性 -->
                    <div class="feature-card" id="feature-deterministic">
                        <div class="feature-header">
                            <span class="feature-icon">🎯</span>
                            <div class="feature-title">
                                <strong data-i18n="hash.feature.1">确定性</strong>
                                <span data-i18n="hash.feature.1.desc">相同输入永远产生相同输出</span>
                            </div>
                        </div>
                        <div class="feature-demo">
                            <div class="demo-deterministic">
                                <div class="demo-input-box">
                                    <span class="demo-label" data-i18n="hash.demo.input">输入</span>
                                    <span class="demo-value" id="det-input">Bitcoin</span>
                                </div>
                                <div class="demo-arrow">→</div>
                                <div class="demo-hash-box">
                                    <span class="demo-label">SHA-256</span>
                                    <span class="demo-value hash-value" id="det-output">---</span>
                                </div>
                            </div>
                            <div class="demo-controls">
                                <button class="btn small" id="det-run-btn" data-i18n="hash.demo.run">▶ 计算</button>
                                <span class="demo-count" id="det-count" data-i18n="hash.demo.times">计算次数: 0</span>
                                <span class="demo-result" id="det-result"></span>
                            </div>
                        </div>
                    </div>

                    <!-- 特性2: 快速计算 -->
                    <div class="feature-card" id="feature-fast">
                        <div class="feature-header">
                            <span class="feature-icon">⚡</span>
                            <div class="feature-title">
                                <strong data-i18n="hash.feature.2">快速计算</strong>
                                <span data-i18n="hash.feature.2.desc">可以快速计算任意输入的哈希</span>
                            </div>
                        </div>
                        <div class="feature-demo">
                            <div class="demo-fast">
                                <div class="fast-stats">
                                    <div class="stat-item">
                                        <span class="stat-value" id="fast-count">0</span>
                                        <span class="stat-label" data-i18n="hash.demo.hashes">次哈希</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value" id="fast-rate">0</span>
                                        <span class="stat-label" data-i18n="hash.demo.perSecond">次/秒</span>
                                    </div>
                                </div>
                                <div class="fast-display">
                                    <div class="fast-input" id="fast-input">---</div>
                                    <div class="fast-output" id="fast-output">---</div>
                                </div>
                            </div>
                            <div class="demo-controls">
                                <button class="btn small" id="fast-start-btn" data-i18n="hash.demo.start">▶ 开始</button>
                                <button class="btn small secondary" id="fast-stop-btn" disabled data-i18n="hash.demo.stop">⏹ 停止</button>
                            </div>
                        </div>
                    </div>

                    <!-- 特性3: 单向性 -->
                    <div class="feature-card" id="feature-oneway">
                        <div class="feature-header">
                            <span class="feature-icon">🚫</span>
                            <div class="feature-title">
                                <strong data-i18n="hash.feature.3">单向性</strong>
                                <span data-i18n="hash.feature.3.desc">无法从哈希值反推原始输入</span>
                            </div>
                        </div>
                        <div class="feature-demo">
                            <div class="demo-oneway">
                                <div class="oneway-forward">
                                    <div class="oneway-box input-side">
                                        <span class="oneway-label" data-i18n="hash.demo.input">输入</span>
                                        <span class="oneway-value" id="oneway-input">Secret</span>
                                    </div>
                                    <div class="oneway-arrow forward">→</div>
                                    <div class="oneway-box output-side">
                                        <span class="oneway-label" data-i18n="hash.demo.output">哈希</span>
                                        <span class="oneway-value" id="oneway-output">2bb80d...</span>
                                    </div>
                                </div>
                                <div class="oneway-reverse">
                                    <div class="oneway-box output-side">
                                        <span class="oneway-label" data-i18n="hash.demo.hash">哈希</span>
                                        <span class="oneway-value">2bb80d...</span>
                                    </div>
                                    <div class="oneway-arrow reverse">
                                        <span class="arrow-x">✗</span>
                                        <span class="arrow-line">→</span>
                                    </div>
                                    <div class="oneway-box input-side unknown">
                                        <span class="oneway-label" data-i18n="hash.demo.input">输入</span>
                                        <span class="oneway-value" id="oneway-unknown">???</span>
                                    </div>
                                </div>
                            </div>
                            <div class="demo-controls">
                                <button class="btn small" id="oneway-demo-btn" data-i18n="hash.demo.tryReverse">🔄 尝试反推</button>
                                <span class="demo-result" id="oneway-result"></span>
                            </div>
                        </div>
                    </div>

                    <!-- 特性4: 雪崩效应 -->
                    <div class="feature-card" id="feature-avalanche">
                        <div class="feature-header">
                            <span class="feature-icon">🌊</span>
                            <div class="feature-title">
                                <strong data-i18n="hash.feature.4">雪崩效应</strong>
                                <span data-i18n="hash.feature.4.desc">输入微小变化导致输出剧烈变化</span>
                            </div>
                        </div>
                        <div class="feature-demo">
                            <div class="demo-avalanche">
                                <div class="avalanche-row">
                                    <div class="avalanche-input">
                                        <span class="avalanche-label" data-i18n="hash.demo.original">原文</span>
                                        <input type="text" id="avalanche-input1" value="Hello" class="avalanche-text">
                                    </div>
                                    <div class="avalanche-output" id="avalanche-hash1">---</div>
                                </div>
                                <div class="avalanche-row">
                                    <div class="avalanche-input">
                                        <span class="avalanche-label" data-i18n="hash.demo.modified">改动</span>
                                        <input type="text" id="avalanche-input2" value="Hello!" class="avalanche-text">
                                    </div>
                                    <div class="avalanche-output" id="avalanche-hash2">---</div>
                                </div>
                                <div class="avalanche-stats">
                                    <div class="avalanche-stat">
                                        <span class="stat-label" data-i18n="hash.demo.inputDiff">输入差异</span>
                                        <span class="stat-value" id="avalanche-input-diff">0 字符</span>
                                    </div>
                                    <div class="avalanche-stat highlight">
                                        <span class="stat-label" data-i18n="hash.demo.bitsDiff">位变化</span>
                                        <span class="stat-value" id="avalanche-bits-diff">0 / 256 位</span>
                                    </div>
                                    <div class="avalanche-stat">
                                        <span class="stat-label" data-i18n="hash.demo.percent">变化率</span>
                                        <span class="stat-value" id="avalanche-percent">0%</span>
                                    </div>
                                </div>
                                <div class="avalanche-visual" id="avalanche-visual"></div>
                            </div>
                            <div class="demo-controls">
                                <button class="btn small" id="avalanche-calc-btn" data-i18n="hash.demo.compare">🔍 对比</button>
                            </div>
                        </div>
                    </div>

                    <!-- 特性5: 抗碰撞 -->
                    <div class="feature-card" id="feature-collision">
                        <div class="feature-header">
                            <span class="feature-icon">🛡️</span>
                            <div class="feature-title">
                                <strong data-i18n="hash.feature.5">抗碰撞</strong>
                                <span data-i18n="hash.feature.5.desc">几乎不可能找到两个不同输入产生相同输出</span>
                            </div>
                        </div>
                        <div class="feature-demo">
                            <div class="demo-collision">
                                <div class="collision-target">
                                    <span class="collision-label" data-i18n="hash.demo.targetHash">目标哈希 (前6位)</span>
                                    <span class="collision-value" id="collision-target">a1b2c3</span>
                                </div>
                                <div class="collision-search">
                                    <div class="search-item">
                                        <span class="search-label" data-i18n="hash.demo.trying">尝试</span>
                                        <span class="search-value" id="collision-trying">---</span>
                                    </div>
                                    <div class="search-item">
                                        <span class="search-label" data-i18n="hash.demo.result">结果</span>
                                        <span class="search-value" id="collision-result">---</span>
                                    </div>
                                </div>
                                <div class="collision-stats">
                                    <div class="stat-item">
                                        <span class="stat-value" id="collision-attempts">0</span>
                                        <span class="stat-label" data-i18n="hash.demo.attempts">次尝试</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value" id="collision-found">0</span>
                                        <span class="stat-label" data-i18n="hash.demo.found">次命中</span>
                                    </div>
                                </div>
                                <div class="collision-note" data-i18n="hash.demo.collisionNote">
                                    注：仅匹配前6位(24比特)，完整匹配256位几乎不可能
                                </div>
                            </div>
                            <div class="demo-controls">
                                <button class="btn small" id="collision-start-btn" data-i18n="hash.demo.search">🔎 搜索碰撞</button>
                                <button class="btn small secondary" id="collision-stop-btn" disabled data-i18n="hash.demo.stop">⏹ 停止</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="page-nav">
                    <a href="../index.html" class="btn secondary" data-i18n="hash.nav.prev">← 返回首页</a>
                    <a href="signature.html" class="btn primary" data-i18n="hash.nav.next">数字签名 →</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p><span data-i18n="footer.text">基于 Satoshi Nakamoto 的</span><a href="https://bitcoin.org/bitcoin.pdf" target="_blank" data-i18n="footer.link">比特币白皮书</a><span data-i18n="footer.suffix">制作</span></p>
    </footer>

    <script src="../js/i18n.js?v=20260202d"></script>
    <script src="../js/hash.js?v=20260202d"></script>
</body>
</html>
